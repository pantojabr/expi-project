===================================================================================== FAILURES ======================================================================================
_______________________________________________________________ TestAuditoriaFiltros.test_listar_auditoria_sem_filtro _______________________________________________________________

self = <despesa-api-mvp.TestAuditoriaFiltros object at 0x743a15cfc830>

    def test_listar_auditoria_sem_filtro(self):
        r = requests.get(url("/api/auditoria/despesas"), auth=COGEX_AUDITOR)
        assert r.status_code == 200
>       assert isinstance(r.json(), list)
E       AssertionError: assert False
E        +  where False = isinstance({'content': [{'categoriaId': 1, 'categoriaNome': 'Material de Consumo', 'dataCompetencia': '2025-06-01', 'dataLancamento': '2025-06-01', ...}], 'empty': False, 'first': True, 'last': True, ...}, list)
E        +    where {'content': [{'categoriaId': 1, 'categoriaNome': 'Material de Consumo', 'dataCompetencia': '2025-06-01', 'dataLancamento': '2025-06-01', ...}], 'empty': False, 'first': True, 'last': True, ...} = json()
E        +      where json = <Response [200]>.json

devdocs/despesa-api-mvp.py:759: AssertionError
______________________________________________________________ TestAuditoriaFiltros.test_listar_auditoria_com_filtros _______________________________________________________________

self = <despesa-api-mvp.TestAuditoriaFiltros object at 0x743a15cdfd70>

    def test_listar_auditoria_com_filtros(self):
        serventia_id = getattr(TestServentiasTiposUsuarios, "_serventia_id", None)
        tipo_id = getattr(TestServentiasTiposUsuarios, "_tipo_id", None)
        params = {}
        if serventia_id is not None:
            params["serventiaId"] = serventia_id
        if tipo_id is not None:
            params["tipoCartorioId"] = tipo_id
        params["mes"] = 6
        params["ano"] = 2025
        r = requests.get(url("/api/auditoria/despesas"), params=params, auth=COGEX_AUDITOR)
        assert r.status_code == 200
>       assert isinstance(r.json(), list)
E       AssertionError: assert False
E        +  where False = isinstance({'content': [{'categoriaId': 1, 'categoriaNome': 'Material de Consumo', 'dataCompetencia': '2025-06-01', 'dataLancamento': '2025-06-01', ...}], 'empty': False, 'first': True, 'last': True, ...}, list)
E        +    where {'content': [{'categoriaId': 1, 'categoriaNome': 'Material de Consumo', 'dataCompetencia': '2025-06-01', 'dataLancamento': '2025-06-01', ...}], 'empty': False, 'first': True, 'last': True, ...} = json()
E        +      where json = <Response [200]>.json

devdocs/despesa-api-mvp.py:773: AssertionError
============================================================================== short test summary info ==============================================================================
FAILED devdocs/despesa-api-mvp.py::TestAuditoriaFiltros::test_listar_auditoria_sem_filtro - AssertionError: assert False
FAILED devdocs/despesa-api-mvp.py::TestAuditoriaFiltros::test_listar_auditoria_com_filtros - AssertionError: assert False
===================================================================== 2 failed, 88 passed, 2 skipped in 20.20s ======================================================================